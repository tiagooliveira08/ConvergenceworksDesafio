"use strict";!function(){var a,t,i,e,s,n,d=$("[data-js='loaderExtern']"),o=$("[data-js='displayAll']"),r=$("[data-js='btnSearch']"),c=$("[data-js='textSearch']"),p=$("[data-js='locate']"),l=$("[data-js='imgTemp']"),u=$("[data-js='tempC']"),v=$("[data-js='description']"),m=$("[data-js='close']"),_=$("[data-js='blockRight']"),f=$("[data-js='sensation']"),g=$("[data-js='humidity']"),j=$("[data-js='wind']"),w=$("[data-js='errorMessage']"),y=$("[data-js='status']"),h=$("[data-js='tipMain']"),x=($("[data-js='tips']"),$("[data-js='prevImg1']"),$("[data-js='prevImg2']"),$("[data-js='prevImg3']"),$("[data-js='prevCMax1']"),$("[data-js='prevCMax2']"),$("[data-js='prevCMax3']"),$("[data-js='prevCMin1']"),$("[data-js='prevCMin2']"),$("[data-js='prevCMin3']"),$("[data-js='dayLast']"),$("[data-js='descriptionPrevision1']"),$("[data-js='descriptionPrevision2']"),$("[data-js='descriptionPrevision3']"),"https://apiadvisor.climatempo.com.br"),k=$("[data-js='loaderCity']"),b=$("[data-js='imageFavorite']"),C=$("[data-js='cityFavorite']"),F=$("[data-js='temperatureFavorite']"),M=$("[data-js='checkFavorite']"),I=$("[data-js='favorite']"),O=$("[data-js='closeFavorite']"),S=$("[data-js='displayFavoriteClick']");function D(){$(window).width()>=1018&&$(".display__tip__tips").length>0?($(".u-timenow-div--dektop").css({display:"block"}),$(".u-timenow-div--mobile").css({display:"none"})):($(".u-timenow-div--mobile").css({display:"block"}),$(".u-timenow-div--dektop").css({display:"none"}))}function P(){1===_.length&&(_.hide(),h.hide(),$(".display__tip__tips").detach(),$(".u-timenow-div--dektop").fadeOut(0),$(".u-timenow-div--mobile").fadeOut(0))}function T(){k.fadeOut("slow",function(){return r.fadeIn("fast")})}r.on("click",function(){return E(c.val())}),c.keydown(function(a){13==a.which&&E(c.val())}),M.on("click",function(){$(M.is(":checked"))&&(I.fadeIn("slow"),b.attr("src","img/realistic/70px/"+e+".png"),C.text(s),F.text(n+"º"),a=i,t=s,I.show("slow"),M.prop("checked",!0))}),m.on("click",function(){_.hide(300,function(){return h.fadeOut(700)}),y.attr("src","img/down.png"),$(".u-timenow-div--dektop").fadeOut("slow"),$(".u-timenow-div--mobile").fadeOut("slow"),$(".display__tip__tips").detach()}),O.on("click",function(){I.hide("slow"),a=null,t="",M.prop("checked",!1)}),S.on("click",function(){E(t)}),$("img").on("error",function(){$(this).attr("src","./img/invalideimage.png")}),$(window).on("load",function(){d.delay(2e3).fadeOut("slow",function(){o.fadeIn("slow",function(){}).css("display","flex")})}),$(window).resize(function(){D(),console.log($(".display__tip__tips").length)}),D();var A,Q,U=["Domingãoo!","Segunda - Feira","Terça - Feira","Quarta - Feira","Quinta - Feira","Sexta - Feira","Sabadãoo!"],z=[];function E(t){P(),r.fadeOut(1,function(){return k.fadeIn("fast")}),$.get(x+"/api/v1/locale/city?name="+t+"&token=1db6b6239f44145c4ae69aac35b437a6",function(t){if(!function(a){if(0===a.length)return w.text("Cidade "+c.val()+" não existe."),c.val(""),y.attr("src","img/error.png"),T(),P(),!0}(t)){var d=t[0].id;d===a?M.prop("checked",!0):M.prop("checked",!1),$.get(x+"/api/v1/weather/locale/"+d+"/current?token=1db6b6239f44145c4ae69aac35b437a6",function(a){var t;t=a,_.show(300),p.text(t.name+" - "+t.state),v.text(t.data.condition),l.attr("src","img/realistic/70px/"+t.data.icon+".png"),u.text(t.data.temperature+"º"),f.text(t.data.sensation+"º"),g.text(t.data.humidity+"%"),j.text(t.data.wind_velocity+" km/h"),w.text(""),y.attr("src","img/sucess.png"),c.val(""),i=t.id,e=t.data.icon,s=t.name,n=t.data.temperature,$.get(x+"/api/v1/forecast/locale/"+d+"/days/15?token=1db6b6239f44145c4ae69aac35b437a6",function(a){!function(a){for(var t=0;t<a.data.length&&(Q=new Date(a.data[t].date),console.log(U[Q.getUTCDay()]),A=U[Q.getUTCDay()],z.push((i=A,e=a.data[t].temperature.max,s=a.data[t].temperature.min,n=a.data[t].text_icon.icon.day,d=a.data[t].text_icon.text.phrase.reduced,'<div class="display__tip__tips" data-js="tips">\n            <span class="display__tip__tips__day-today bolder">'+i+'</span>\n            <div class="flex-row">\n                <div class="img-responsive display__tip__tips--img-responsive">\n                    <img class="display__tip__tips__img-today" data-js="prevImg1" src="img/realistic/70px/'+n+'.png" />\n                </div>\n                <div class="flex-column">\n                <span class="">\n                    <div class="arrow-reponsive d-block">\n                        <img src="img/myArrow.png" alt="seta para cima" />\n                    </div>\n                    <span class="display__index__block-right__sensation-regular" data-js="prevCMax1">Max: '+e+'º</span>\n                </span>\n                <span class="mt10">\n                    <div class="arrow-reponsive d-block">\n                        <img src="img/myArrow2.png" alt="seta para baixo" />\n                    </div>\n                    <span class="display__index__block-right__sensation-regular" data-js="prevCMin1">Min: '+s+'º</span>\n                </span>\n                </div>\n            </div>  \n            <span class="display__tip__tips__description-prev pd10 mt10 " data-js="descriptionPrevision1">'+d+"</span>\n        </div>")),!(t>=6));t++);var i,e,s,n,d;h.append(z).fadeIn(300).css("display","flex"),z=[],D()}(a)}).always(function(){return T()})})}}).fail(function(){w.text("Falha na conexão com o servidor!"),T(),y.attr("src","img/error.png")})}}();